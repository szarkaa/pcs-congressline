<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2 translate="pcsApp.backendOnlineReg.home.title">OptionalServices</h2>
    </div>
    <div class="col-lg-2">

    </div>
</div>
<jhi-alert></jhi-alert>
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-title float-e-margins" ng-if="vm.isAnyOnlineRegIdSelected()">
                    <button class="btn btn-primary" type="submit" ui-sref="backend-online-reg.accept-confirmation-all">
                        <i class="fa fa-group"></i>
                    </button>
                    <button class="btn btn-danger" type="submit" ui-sref="backend-online-reg.delete-confirmation-all">
                        <i class="fa fa-trash-o"></i>
                    </button>
                    <button class="btn btn-info" type="submit" ng-click="vm.downloadAllSelected()">
                        <i class="fa fa-download"></i>
                    </button>
                </div>
                <div class="ibox-content">
                    <table datatable="ng" dt-options="vm.dtOptions" dt-column-defs="vm.dtColumnDefs" id="backend-online-reg-datatable" class="table table-striped table-bordered table-hover datatable-with-operations">
                        <thead>
                        <tr>
                            <th><input ng-model="vm.allOnlineRegIdSelected" ng-change="vm.toggleAllOnlineRegSelection()" type="checkbox" /></th>
                            <th><span translate="pcsApp.onlineReg.lastName">Family name</span></th>
                            <th><span translate="pcsApp.onlineReg.firstName">First name</span></th>
                            <th><span translate="pcsApp.onlineReg.zipCode">Zip code</span></th>
                            <th><span translate="pcsApp.onlineReg.city">City</span></th>
                            <th><span translate="pcsApp.onlineReg.street">Street</span></th>
                            <th><span translate="pcsApp.onlineReg.country">Country</span></th>
                            <th><span translate="pcsApp.onlineReg.phone">Phone</span></th>
                            <th><span translate="pcsApp.onlineReg.email">Email</span></th>
                            <th><span translate="pcsApp.onlineReg.dateOfApp">Date of app.</span></th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="backendOnlineReg in vm.backendOnlineRegs track by backendOnlineReg.id">
                            <td>
                                <input ng-model="vm.onlineRegFilter.selectedOnlineRegIds[backendOnlineReg.id.toString()]" ng-change="vm.toggleOnlineRegSelection(backendOnlineReg.id)" type="checkbox" />
                            </td>
                            <td>{{backendOnlineReg.lastName}}</td>
                            <td>{{backendOnlineReg.firstName}}</td>
                            <td>{{backendOnlineReg.zipCode}}</td>
                            <td>{{backendOnlineReg.city}}</td>
                            <td>{{backendOnlineReg.street}}</td>
                            <td>{{backendOnlineReg.country.name}}</td>
                            <td>{{backendOnlineReg.phone}}</td>
                            <td>{{backendOnlineReg.email}}</td>
                            <td>{{backendOnlineReg.dateOfApp | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                            <td>
                                <button class="btn btn-primary" type="submit" tooltip-placement="top" uib-tooltip="Accept"
                                        ui-sref="backend-online-reg.accept({id:backendOnlineReg.id})"><i class="fa fa-group"></i></button>
                                <button class="btn btn-info" type="submit" tooltip-placement="top" uib-tooltip="Download pdf"
                                        ng-click="vm.downloadPdf(backendOnlineReg.id)"><i class="fa fa-download"></i></button>
                                <button class="btn btn-danger" type="submit" tooltip-placement="top" uib-tooltip="Delete"
                                        ui-sref="backend-online-reg.delete({id:backendOnlineReg.id})"><i class="fa fa-trash-o"></i></button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
